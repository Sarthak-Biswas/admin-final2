{"ast":null,"code":"import _asyncToGenerator from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import\"./LoginScreen.css\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{message}from\"antd\";import\"antd/dist/antd.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var LoginScreen=function LoginScreen(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var navigate=useNavigate();var _useState5=useState(new Date().getFullYear()),_useState6=_slicedToArray(_useState5,2),year=_useState6[0],setYear=_useState6[1];var gotoOverview=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(!username||!password)){_context.next=5;break;}return _context.abrupt(\"return\",message.error(\"Please fill all the fields\",10));case 5:_context.next=7;return axios.post(\"https://d3e0ipw8ik.execute-api.ap-south-1.amazonaws.com/Prod/admin/loginAdmin\",{username:username,password:password},{headers:{\"Content-Type\":\"application/json\"}});case 7:_yield$axios$post=_context.sent;data=_yield$axios$post.data;localStorage.setItem(\"authToken\",data.authToken);message.success(\"Login Successful\");navigate(\"/overview\");case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);message.error(\"Invalid Credentials\",10);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,14]]);}));return function gotoOverview(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:\"login__screen\",children:/*#__PURE__*/_jsxs(\"div\",{id:\"login__form\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"login__top\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/Logo.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/images/rasan pro.png\",alt:\"\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/Vector.svg\",alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);},required:true,autoComplete:\"new-password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/Vector-1.svg\",alt:\"\"}),/*#__PURE__*/_jsx(\"input\",{autoComplete:\"new-password\",type:\"password\",name:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button__type4\",onClick:function onClick(){return gotoOverview();},children:\"Log In\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"footer__text\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/terms-and-conditions\",className:\"link1\",children:\"Terms and Conditions\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/privacy-policy\",className:\"link2\",children:\"Privacy Policy\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"copyright\",children:[\"Copyright \\xA0 @\",year,\" \\xA0 | \\xA0 Designed \\xA0 With \\xA0 by \\xA0 \",/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"17px\"},children:\"Rasan Pro\"})]})]})]});};export default LoginScreen;","map":{"version":3,"sources":["/home/entropy/Downloads/rasan/RationPro-AdminPanel/src/screens/LoginScreen.jsx"],"names":["React","useEffect","useState","useNavigate","axios","message","LoginScreen","username","setUsername","password","setPassword","navigate","Date","getFullYear","year","setYear","gotoOverview","error","post","headers","data","localStorage","setItem","authToken","success","e","target","value","fontSize"],"mappings":"2ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,mBAAP,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,MAAxB,CACA,MAAO,oBAAP,C,6IAGA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,eAAwBD,QAAQ,CAAC,GAAIU,CAAAA,IAAJ,GAAWC,WAAX,EAAD,CAAhC,yCAAOC,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,YAAY,0FAAG,mLAEb,CAACT,QAAD,EAAa,CAACE,QAFD,0DAGRJ,OAAO,CAACY,KAAR,CAAc,4BAAd,CAA4C,EAA5C,CAHQ,+BAKQb,CAAAA,KAAK,CAACc,IAAN,CACrB,+EADqB,CAErB,CAAEX,QAAQ,CAARA,QAAF,CAAYE,QAAQ,CAARA,QAAZ,CAFqB,CAGrB,CAAEU,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAAX,CAHqB,CALR,wCAKPC,IALO,mBAKPA,IALO,CAWfC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAkCF,IAAI,CAACG,SAAvC,EACAlB,OAAO,CAACmB,OAAR,CAAgB,kBAAhB,EACAb,QAAQ,CAAC,WAAD,CAAR,CAbe,yFAgBjBN,OAAO,CAACY,KAAR,CAAc,qBAAd,CAAqC,EAArC,EAhBiB,qEAAH,kBAAZD,CAAAA,YAAY,0CAAlB,CAsBA,mBACE,wCACE,YAAK,EAAE,CAAC,eAAR,uBACE,aAAK,EAAE,CAAC,aAAR,wBACE,aAAK,EAAE,CAAC,YAAR,wBACE,YAAK,GAAG,CAAC,kBAAT,CAA4B,GAAG,CAAC,EAAhC,EADF,cAEE,YAAK,GAAG,CAAC,uBAAT,CAAiC,GAAG,CAAC,EAArC,EAFF,GADF,cAKE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,GAAG,CAAC,oBAAT,CAA8B,GAAG,CAAC,EAAlC,EADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,IAAI,CAAC,UAFP,CAGE,WAAW,CAAC,UAHd,CAIE,KAAK,CAAET,QAJT,CAKE,QAAQ,CAAE,kBAACkB,CAAD,QAAOjB,CAAAA,WAAW,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EALZ,CAME,QAAQ,KANV,CAOE,YAAY,CAAC,cAPf,EAFF,GALF,cAiBE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,GAAG,CAAC,sBAAT,CAAgC,GAAG,CAAC,EAApC,EADF,cAEE,cACE,YAAY,CAAC,cADf,CAEE,IAAI,CAAC,UAFP,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,UAJd,CAKE,KAAK,CAAElB,QALT,CAME,QAAQ,CAAE,kBAACgB,CAAD,QAAOf,CAAAA,WAAW,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAlB,EANZ,CAOE,QAAQ,KAPV,EAFF,GAjBF,cA6BE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,eAFZ,CAGE,OAAO,CAAE,yBAAMX,CAAAA,YAAY,EAAlB,EAHX,oBA7BF,GADF,EADF,cAwCE,aAAK,SAAS,CAAC,QAAf,wBACA,aAAK,SAAS,CAAC,cAAf,wBACE,UAAG,IAAI,CAAC,uBAAR,CAAgC,SAAS,CAAC,OAA1C,kCADF,cAGE,UAAG,IAAI,CAAC,iBAAR,CAA0B,SAAS,CAAC,OAApC,4BAHF,GADA,cAMA,WAAG,SAAS,CAAC,WAAb,8BAA4CF,IAA5C,8DAAwG,aAAM,KAAK,CAAE,CAACc,QAAQ,CAAC,MAAV,CAAb,uBAAxG,GANA,GAxCF,GADF,CAmDD,CA9ED,CAgFA,cAAetB,CAAAA,WAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./LoginScreen.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { message } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\n\r\n\r\nconst LoginScreen = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const [year, setYear] = useState(new Date().getFullYear());\r\n  const gotoOverview = async () => {\r\n    try {\r\n      if (!username || !password) {\r\n        return message.error(\"Please fill all the fields\", 10);\r\n      } else {\r\n        const { data } = await axios.post(\r\n          \"https://d3e0ipw8ik.execute-api.ap-south-1.amazonaws.com/Prod/admin/loginAdmin\",\r\n          { username, password },\r\n          { headers: { \"Content-Type\": \"application/json\" } }\r\n        );\r\n\r\n        localStorage.setItem(\"authToken\", data.authToken);\r\n        message.success(\"Login Successful\");\r\n        navigate(\"/overview\");\r\n      }\r\n    } catch (err) {\r\n      message.error(\"Invalid Credentials\", 10);\r\n    }\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <>\r\n      <div id=\"login__screen\">\r\n        <div id=\"login__form\">\r\n          <div id=\"login__top\">\r\n            <img src=\"/images/Logo.png\" alt=\"\" />\r\n            <img src=\"/images/rasan pro.png\" alt=\"\" />\r\n          </div>\r\n          <div className=\"input\">\r\n            <img src=\"/images/Vector.svg\" alt=\"\" />\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"Username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              required\r\n              autoComplete=\"new-password\"\r\n            />\r\n          </div>\r\n          <div className=\"input\">\r\n            <img src=\"/images/Vector-1.svg\" alt=\"\" />\r\n            <input\r\n              autoComplete=\"new-password\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              required\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"submit\"\r\n            className=\"button__type4\"\r\n            onClick={() => gotoOverview()}\r\n          >\r\n            Log In\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"footer\">\r\n      <div className=\"footer__text\">\r\n        <a href=\"/terms-and-conditions\" className=\"link1\">Terms and Conditions</a>\r\n       \r\n        <a href=\"/privacy-policy\" className=\"link2\" >Privacy Policy</a>\r\n      </div>\r\n      <p className=\"copyright\">Copyright &nbsp; @{year} &nbsp; | &nbsp; Designed &nbsp; With &nbsp; by &nbsp; <span style={{fontSize:\"17px\"}}>Rasan Pro</span></p>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n"]},"metadata":{},"sourceType":"module"}