{"ast":null,"code":"import _asyncToGenerator from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import\"./AllUsersScreen.css\";import Users from\"../apis/Users.json\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{message}from\"antd\";import\"antd/dist/antd.css\";import Loading from\"../components/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AllUsersScreen=function AllUsersScreen(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var getAllUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var authToken,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;authToken=localStorage.getItem(\"authToken\");_context.next=4;return axios.post(\"https://o3kifngnt7.execute-api.ap-south-1.amazonaws.com/Prod/admin/viewUsers\",{},{headers:{authToken:authToken}});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setUsers(data);setLoading(false);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);message.error(\"There is some error\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getAllUsers(){return _ref.apply(this,arguments);};}();getAllUsers();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pageContainerTop\",children:/*#__PURE__*/_jsx(\"p\",{className:\"pageHeading\",children:\"All Users\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Total Transaction\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"td\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{className:\"list\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"imagesize\",style:{marginBottom:\"5px\",marginTop:\"5px\"},children:/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:user.picture,alt:\"\",style:{width:\"100px\",height:\"70px\",borderRadius:\"10px\"}})})}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.total_transaction}),/*#__PURE__*/_jsx(\"td\",{children:user.phone}),/*#__PURE__*/_jsx(\"td\",{children:user.address}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn__type1\",onClick:function onClick(){return navigate(\"/user/\".concat(user.id));},children:\"View\"})})]},user.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{id:\"screen__bottom\",children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"bottom__left\"})]})]})})});};export default AllUsersScreen;","map":{"version":3,"sources":["/home/entropy/Downloads/rasan/RationPro-AdminPanel/src/screens/AllUsersScreen.jsx"],"names":["React","useEffect","useState","Users","useNavigate","axios","message","Loading","AllUsersScreen","navigate","users","setUsers","loading","setLoading","getAllUsers","authToken","localStorage","getItem","post","headers","data","error","map","user","marginBottom","marginTop","picture","width","height","borderRadius","name","total_transaction","phone","address","id"],"mappings":"2ZAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAO,sBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,MAAxB,CACA,MAAO,oBAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,C,6IAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CACA,cAA0BF,QAAQ,CAAC,EAAD,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,eAA8BT,QAAQ,CAAC,IAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACAZ,SAAS,CAAC,UAAM,CACd,GAAMa,CAAAA,WAAW,0FAAG,wLAEVC,SAFU,CAEEC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAFF,uBAIOZ,CAAAA,KAAK,CAACa,IAAN,CACrB,8EADqB,CAErB,EAFqB,CAGrB,CAAEC,OAAO,CAAE,CAAEJ,SAAS,CAATA,SAAF,CAAX,CAHqB,CAJP,wCAIRK,IAJQ,mBAIRA,IAJQ,CAUhBT,QAAQ,CAACS,IAAD,CAAR,CACAP,UAAU,CAAC,KAAD,CAAV,CAXgB,iFAahBP,OAAO,CAACe,KAAR,CAAc,qBAAd,EAbgB,qEAAH,kBAAXP,CAAAA,WAAW,0CAAjB,CAgBAA,WAAW,GACZ,CAlBQ,CAkBN,EAlBM,CAAT,CAmBA,mBACE,yBACGF,OAAO,cACN,KAAC,OAAD,IADM,cAGN,sCACE,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,UAAG,SAAS,CAAC,aAAb,uBADF,EADF,cAIE,YAAK,SAAS,CAAC,MAAf,EAJF,cAKE,sCACE,oCACE,mCACE,aADF,cAEE,gCAFF,cAGE,yCAHF,cAIE,6BAJF,cAKE,+BALF,cAME,aANF,GADF,EADF,cAWE,uBACGF,KAAK,CAACY,GAAN,CAAU,SAACC,IAAD,qBACT,YAAI,SAAS,CAAC,MAAd,wBACE,YACE,SAAS,CAAC,WADZ,CAEE,KAAK,CAAE,CAAEC,YAAY,CAAE,KAAhB,CAAuBC,SAAS,CAAE,KAAlC,CAFT,uBAIE,iCACE,YACE,GAAG,CAAEF,IAAI,CAACG,OADZ,CAEE,GAAG,CAAC,EAFN,CAGE,KAAK,CAAE,CACLC,KAAK,CAAE,OADF,CAELC,MAAM,CAAE,MAFH,CAGLC,YAAY,CAAE,MAHT,CAHT,EADF,EAJF,EADF,cAiBE,oBAAKN,IAAI,CAACO,IAAV,EAjBF,cAkBE,oBAAKP,IAAI,CAACQ,iBAAV,EAlBF,cAmBE,oBAAKR,IAAI,CAACS,KAAV,EAnBF,cAoBE,oBAAKT,IAAI,CAACU,OAAV,EApBF,cAqBE,iCACE,eACE,SAAS,CAAC,YADZ,CAEE,OAAO,CAAE,yBAAMxB,CAAAA,QAAQ,iBAAUc,IAAI,CAACW,EAAf,EAAd,EAFX,kBADF,EArBF,GAA0BX,IAAI,CAACW,EAA/B,CADS,EAAV,CADH,EAXF,GALF,cAmDE,aAAK,EAAE,CAAC,gBAAR,wBACE,cADF,cAEE,YAAK,SAAS,CAAC,cAAf,EAFF,GAnDF,GADF,EAJJ,EADF,CAkED,CAzFD,CA2FA,cAAe1B,CAAAA,cAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./AllUsersScreen.css\";\r\nimport Users from \"../apis/Users.json\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { message } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nconst AllUsersScreen = () => {\r\n  const navigate = useNavigate();\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    const getAllUsers = async () => {\r\n      try {\r\n        const authToken = localStorage.getItem(\"authToken\");\r\n\r\n        const { data } = await axios.post(\r\n          \"https://o3kifngnt7.execute-api.ap-south-1.amazonaws.com/Prod/admin/viewUsers\",\r\n          {},\r\n          { headers: { authToken } }\r\n        );\r\n\r\n        setUsers(data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        message.error(\"There is some error\");\r\n      }\r\n    };\r\n    getAllUsers();\r\n  }, []);\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          <div className=\"pageContainer\">\r\n            <div className=\"pageContainerTop\">\r\n              <p className=\"pageHeading\">All Users</p>\r\n            </div>\r\n            <div className=\"line\" />\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <td />\r\n                  <td>Username</td>\r\n                  <td>Total Transaction</td>\r\n                  <td>Phone</td>\r\n                  <td>Address</td>\r\n                  <td />\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {users.map((user) => (\r\n                  <tr className=\"list\" key={user.id}>\r\n                    <div\r\n                      className=\"imagesize\"\r\n                      style={{ marginBottom: \"5px\", marginTop: \"5px\" }}\r\n                    >\r\n                      <td>\r\n                        <img\r\n                          src={user.picture}\r\n                          alt=\"\"\r\n                          style={{\r\n                            width: \"100px\",\r\n                            height: \"70px\",\r\n                            borderRadius: \"10px\",\r\n                          }}\r\n                        />\r\n                      </td>\r\n                    </div>\r\n                    <td>{user.name}</td>\r\n                    <td>{user.total_transaction}</td>\r\n                    <td>{user.phone}</td>\r\n                    <td>{user.address}</td>\r\n                    <td>\r\n                      <button\r\n                        className=\"btn__type1\"\r\n                        onClick={() => navigate(`/user/${user.id}`)}\r\n                      >\r\n                        View\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n            <div id=\"screen__bottom\">\r\n              <div></div>\r\n              <div className=\"bottom__left\"></div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllUsersScreen;\r\n"]},"metadata":{},"sourceType":"module"}