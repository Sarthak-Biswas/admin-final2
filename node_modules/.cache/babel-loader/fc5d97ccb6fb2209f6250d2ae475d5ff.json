{"ast":null,"code":"import _asyncToGenerator from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{message}from\"antd\";import Loading from\"../components/Loading\";import ADDCATEGORYModal from\"../components/ADDCATEGORYModal\";import EDITCATEGORYModal from\"../components/EDITCATEGORYModal\";import{faJediOrder}from\"@fortawesome/free-brands-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Categories=function Categories(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),category=_useState2[0],setCategory=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),modalOpen=_useState4[0],setModalOpen=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),editmodal=_useState8[0],setEditmodal=_useState8[1];var _useState9=useState({}),_useState10=_slicedToArray(_useState9,2),editcat=_useState10[0],setEditcat=_useState10[1];useEffect(function(){var getAllCategory=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var authToken,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;authToken=localStorage.getItem(\"authToken\");_context.next=4;return axios.post(\"https://chnbq3osxj.execute-api.ap-south-1.amazonaws.com/Prod/user/getCategory\",{},{headers:{authToken:authToken}});case 4:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setCategory(data);setLoading(false);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);message.error(\"Server error\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function getAllCategory(){return _ref.apply(this,arguments);};}();getAllCategory();},[]);var editcategory=function editcategory(cat){setEditmodal(true);setEditcat(cat);};var deleteCategory=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var authToken;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;authToken=localStorage.getItem(\"authToken\");_context2.next=4;return axios.post(\"https://lacg6gprn1.execute-api.ap-south-1.amazonaws.com/Prod/admin/deleteCategory\",{id:id},{headers:{authToken:authToken}});case 4:window.location.reload();message.success(\"Category deleted successfully\");_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);message.error(\"Category not deleted\");case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function deleteCategory(_x){return _ref2.apply(this,arguments);};}();var deletepopup=function deletepopup(id){var confirmdelete=window.confirm(\"Are you sure you want to delete this category ?\");if(confirmdelete){deleteCategory(id);}};return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",modalOpen&&/*#__PURE__*/_jsx(ADDCATEGORYModal,{closemodal:setModalOpen}),editmodal&&/*#__PURE__*/_jsx(EDITCATEGORYModal,{closeeditmodal:setEditmodal,editcat:editcat}),/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainerTop\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pageHeading\",children:\"All Category\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn__type6\",onClick:function onClick(){return setModalOpen(true);},children:\"Add Category\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{width:\"20%\",textAlign:\"center\"}}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"20%\",textAlign:\"center\"},children:\"Category Id\"}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"20%\",textAlign:\"center\"},children:\"Category Name\"}),/*#__PURE__*/_jsx(\"td\",{style:{width:\"20%\",textAlign:\"center\"}}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:category.map(function(cat){return/*#__PURE__*/_jsxs(\"tr\",{className:\"list\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"imagesize\",style:{margin:\"auto\"},children:[\" \",/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"100px\",height:\"70px\",borderRadius:\"10px\"},src:cat.img,alt:\"\"})})]}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\",padding:\"5px\"},children:cat.id}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\",padding:\"5px\"},children:cat.category_name}),/*#__PURE__*/_jsx(\"td\",{style:{textAlign:\"center\",padding:\"5px\"},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn__type1\",style:{padding:\"3px 10px 3px 10px\",borderColor:cat.active===\"0\"?\"#F33535\":\"#00ff00\",backgroundColor:cat.active===\"0\"?\"#F33535\":\"#00ff00\",color:\"white\"},onClick:function onClick(){return editcategory(cat);},children:\"Edit\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn__type1\",onClick:function onClick(){return deletepopup(cat.id);},children:\"Delete\"})})]},cat.id);})})]})]})]})});};export default Categories;","map":{"version":3,"sources":["/home/entropy/Downloads/rasan/RationPro-AdminPanel/src/screens/Categories.jsx"],"names":["React","useEffect","useState","axios","message","Loading","ADDCATEGORYModal","EDITCATEGORYModal","faJediOrder","Categories","category","setCategory","modalOpen","setModalOpen","loading","setLoading","editmodal","setEditmodal","editcat","setEditcat","getAllCategory","authToken","localStorage","getItem","post","headers","data","error","editcategory","cat","deleteCategory","id","window","location","reload","success","deletepopup","confirmdelete","confirm","width","textAlign","map","margin","height","borderRadius","img","padding","category_name","borderColor","active","backgroundColor","color"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { message } from \"antd\";\r\nimport Loading from \"../components/Loading\";\r\nimport ADDCATEGORYModal from \"../components/ADDCATEGORYModal\";\r\nimport EDITCATEGORYModal from \"../components/EDITCATEGORYModal\";\r\nimport { faJediOrder } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nconst Categories = () => {\r\n  const [category, setCategory] = useState([]);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [editmodal, setEditmodal] = useState(false);\r\n  const [editcat, setEditcat] = useState({});\r\n\r\n  useEffect(() => {\r\n    const getAllCategory = async () => {\r\n      try {\r\n        const authToken = localStorage.getItem(\"authToken\");\r\n\r\n        const { data } = await axios.post(\r\n          \"https://chnbq3osxj.execute-api.ap-south-1.amazonaws.com/Prod/user/getCategory\",\r\n          {},\r\n          { headers: { authToken } }\r\n        );\r\n\r\n        setCategory(data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        message.error(\"Server error\");\r\n      }\r\n    };\r\n    getAllCategory();\r\n  }, []);\r\n\r\n  const editcategory = (cat) => {\r\n    setEditmodal(true);\r\n    setEditcat(cat);\r\n  };\r\n\r\n  const deleteCategory = async (id) => {\r\n    try {\r\n      const authToken = localStorage.getItem(\"authToken\");\r\n\r\n      await axios.post(\r\n        \"https://lacg6gprn1.execute-api.ap-south-1.amazonaws.com/Prod/admin/deleteCategory\",\r\n        { id },\r\n        { headers: { authToken } }\r\n      );\r\n\r\n      window.location.reload();\r\n      message.success(\"Category deleted successfully\");\r\n    } catch (err) {\r\n      message.error(\"Category not deleted\");\r\n    }\r\n  };\r\n\r\n  const deletepopup = (id) => {\r\n    const confirmdelete = window.confirm(\r\n      \"Are you sure you want to delete this category ?\"\r\n    );\r\n    if (confirmdelete) {\r\n      deleteCategory(id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          {\" \"}\r\n          {modalOpen && <ADDCATEGORYModal closemodal={setModalOpen} />}\r\n          {editmodal && (\r\n            <EDITCATEGORYModal\r\n              closeeditmodal={setEditmodal}\r\n              editcat={editcat}\r\n            />\r\n          )}\r\n          <div className=\"pageContainer\">\r\n            <div className=\"pageContainerTop\">\r\n              <p className=\"pageHeading\">All Category</p>\r\n\r\n              <button className=\"btn__type6\" onClick={() => setModalOpen(true)}>\r\n                Add Category\r\n              </button>\r\n            </div>\r\n            <div className=\"line\" />\r\n            <table>\r\n              <thead>\r\n                <tr>\r\n                  <td\r\n                    style={{\r\n                      width: \"20%\",\r\n\r\n                      textAlign: \"center\",\r\n                    }}\r\n                  ></td>\r\n                  <td\r\n                    style={{\r\n                      width: \"20%\",\r\n\r\n                      textAlign: \"center\",\r\n                    }}\r\n                  >\r\n                    Category Id\r\n                  </td>\r\n                  <td\r\n                    style={{\r\n                      width: \"20%\",\r\n\r\n                      textAlign: \"center\",\r\n                    }}\r\n                  >\r\n                    Category Name\r\n                  </td>\r\n                  <td\r\n                    style={{\r\n                      width: \"20%\",\r\n\r\n                      textAlign: \"center\",\r\n                    }}\r\n                  ></td>\r\n\r\n                  <td />\r\n                  <td></td>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {category.map((cat) => (\r\n                  <tr className=\"list\" key={cat.id}>\r\n                    <div\r\n                      className=\"imagesize\"\r\n                      style={{\r\n                        margin: \"auto\",\r\n                      }}\r\n                    >\r\n                      {\" \"}\r\n                      <td>\r\n                        <img\r\n                          style={{\r\n                            width: \"100px\",\r\n                            height: \"70px\",\r\n                            borderRadius: \"10px\",\r\n                          }}\r\n                          src={cat.img}\r\n                          alt=\"\"\r\n                        />\r\n                      </td>\r\n                    </div>\r\n                    <td\r\n                      style={{\r\n                        textAlign: \"center\",\r\n                        padding: \"5px\",\r\n                      }}\r\n                    >\r\n                      {cat.id}\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        textAlign: \"center\",\r\n                        padding: \"5px\",\r\n                      }}\r\n                    >\r\n                      {cat.category_name}\r\n                    </td>\r\n                    <td\r\n                      style={{\r\n                        textAlign: \"center\",\r\n                        padding: \"5px\",\r\n                      }}\r\n                    >\r\n                      <button\r\n                        className=\"btn__type1\"\r\n                        style={{\r\n                          padding: \"3px 10px 3px 10px\",\r\n                          borderColor:\r\n                            cat.active === \"0\" ? \"#F33535\" : \"#00ff00\",\r\n                          backgroundColor:\r\n                            cat.active === \"0\" ? \"#F33535\" : \"#00ff00\",\r\n                          color: \"white\",\r\n                        }}\r\n                        onClick={() => editcategory(cat)}\r\n                      >\r\n                        Edit\r\n                      </button>\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        className=\"btn__type1\"\r\n                        onClick={() => deletepopup(cat.id)}\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n"]},"metadata":{},"sourceType":"module"}