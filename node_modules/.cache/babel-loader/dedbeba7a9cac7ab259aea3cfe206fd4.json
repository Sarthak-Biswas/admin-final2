{"ast":null,"code":"import _asyncToGenerator from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/entropy/Downloads/rasan/RationPro-AdminPanel/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";// import Users from \"../apis/Users.json\";\nimport{useNavigate,useParams}from\"react-router-dom\";import Loading from\"../components/Loading\";import axios from\"axios\";import{message}from\"antd\";import\"antd/dist/antd.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SingleUserScreen=function SingleUserScreen(){var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),orderhistory=_useState6[0],setOrderhistory=_useState6[1];useEffect(function(){var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var authToken,_yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;console.log({id:Number(id)});authToken=localStorage.getItem(\"authToken\");_context.next=5;return axios.post(\"https://yedqovxqw4.execute-api.ap-south-1.amazonaws.com/Prod/admin/showUser\",{id:Number(id)},{headers:{authToken:authToken}});case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;setUser(data);setOrderhistory(data.slice(1));setLoading(false);_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);message.error(\"There is some error\");case 16:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function getUser(){return _ref.apply(this,arguments);};}();getUser();},[id]);var lockuser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var authToken,_yield$axios$post2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;authToken=localStorage.getItem(\"authToken\");_context2.next=4;return axios.post(\"https://yedqovxqw4.execute-api.ap-south-1.amazonaws.com/Prod/admin/showUser\",{id:Number(id)},{headers:{authToken:authToken}});case 4:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;message.success(\"User Locked\");navigate(\"/users\");_context2.next=13;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);message.error(\"There is some error\");case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function lockuser(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pageContainerTop\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pageHeading\",children:user[0].name}),/*#__PURE__*/_jsx(\"button\",{className:\"btn_type3\",style:{backgroundColor:\"#F33535\"},onClick:function onClick(){return lockuser();},children:\"Lock User\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"line\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"scroll__container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"photoContainer\",style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(\"img\",{src:user[0].picture,alt:\"\",style:{width:\"400px\",height:\"auto\",marginLeft:\"30px\"}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"editForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"editField\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{children:user[0].name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editField\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"div\",{children:user[0].phone})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editField\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"div\",{children:user[0].address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editField\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Total Transaction\"}),/*#__PURE__*/_jsx(\"div\",{children:user[0].total_transaction})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"editField\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Order History\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"space-around\",alignItems:\"center\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",width:\"100%\",justifyContent:\"space-around\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Order Id\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Date & Time\"})]}),orderhistory.map(function(order){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",width:\"100%\",justifyContent:\"space-around\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"span\",{children:order.order_id}),/*#__PURE__*/_jsx(\"span\",{children:order.create_date})]});})]})]})]})]})]})]})});};export default SingleUserScreen;","map":{"version":3,"sources":["/home/entropy/Downloads/rasan/RationPro-AdminPanel/src/screens/SingleUserScreen.jsx"],"names":["React","useState","useEffect","useNavigate","useParams","Loading","axios","message","SingleUserScreen","navigate","id","user","setUser","loading","setLoading","orderhistory","setOrderhistory","getUser","console","log","Number","authToken","localStorage","getItem","post","headers","data","slice","error","lockuser","success","name","backgroundColor","display","justifyContent","alignItems","picture","width","height","marginLeft","phone","address","total_transaction","flexDirection","map","order","order_id","create_date"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// import Users from \"../apis/Users.json\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport Loading from \"../components/Loading\";\r\nimport axios from \"axios\";\r\nimport { message } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nconst SingleUserScreen = () => {\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n  const [user, setUser] = useState({});\r\n  const [loading, setLoading] = useState(true);\r\n  const [orderhistory, setOrderhistory] = useState([]);\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      try {\r\n        console.log({ id: Number(id) });\r\n        const authToken = localStorage.getItem(\"authToken\");\r\n\r\n        const { data } = await axios.post(\r\n          \"https://yedqovxqw4.execute-api.ap-south-1.amazonaws.com/Prod/admin/showUser\",\r\n          { id: Number(id) },\r\n          { headers: { authToken } }\r\n        );\r\n\r\n        setUser(data);\r\n        setOrderhistory(data.slice(1));\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        console.log(err);\r\n        message.error(\"There is some error\");\r\n      }\r\n    };\r\n    getUser();\r\n  }, [id]);\r\n  const lockuser = async () => {\r\n    try {\r\n      const authToken = localStorage.getItem(\"authToken\");\r\n      const { data } = await axios.post(\r\n        \"https://yedqovxqw4.execute-api.ap-south-1.amazonaws.com/Prod/admin/showUser\",\r\n        { id: Number(id) },\r\n        { headers: { authToken } }\r\n      );\r\n      message.success(\"User Locked\");\r\n      navigate(\"/users\");\r\n    } catch (err) {\r\n      message.error(\"There is some error\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {loading ? (\r\n        <Loading />\r\n      ) : (\r\n        <>\r\n          {\" \"}\r\n          <div className=\"pageContainer\">\r\n            <div className=\"pageContainerTop\">\r\n              <p className=\"pageHeading\">{user[0].name}</p>\r\n              <button\r\n                className=\"btn_type3\"\r\n                style={{ backgroundColor: \"#F33535\" }}\r\n                onClick={() => lockuser()}\r\n              >\r\n                Lock User\r\n              </button>\r\n            </div>\r\n            <div className=\"line\" />\r\n\r\n            <div className=\"scroll__container\">\r\n              <div\r\n                id=\"photoContainer\"\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <img\r\n                  src={user[0].picture}\r\n                  alt=\"\"\r\n                  style={{ width: \"400px\", height: \"auto\", marginLeft: \"30px\" }}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"editForm\">\r\n                <div className=\"editField\">\r\n                  <p>Name</p>\r\n\r\n                  <div>{user[0].name}</div>\r\n                </div>\r\n                <div className=\"editField\">\r\n                  <p>Contact</p>\r\n\r\n                  <div>{user[0].phone}</div>\r\n                </div>\r\n                <div className=\"editField\">\r\n                  <p>Address</p>\r\n\r\n                  <div>{user[0].address}</div>\r\n                </div>\r\n                <div className=\"editField\">\r\n                  <p>Total Transaction</p>\r\n\r\n                  <div>{user[0].total_transaction}</div>\r\n                </div>\r\n\r\n                <div className=\"editField\">\r\n                  <p>Order History</p>\r\n\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      flexDirection: \"column\",\r\n                      justifyContent: \"space-around\",\r\n                      alignItems: \"center\",\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n\r\n                        width: \"100%\",\r\n                        justifyContent: \"space-around\",\r\n                        alignItems: \"center\",\r\n                      }}\r\n                    >\r\n                      <span>Order Id</span>\r\n                      <span>Date & Time</span>\r\n                    </div>\r\n                    {orderhistory.map((order) => (\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n\r\n                          width: \"100%\",\r\n                          justifyContent: \"space-around\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <span>{order.order_id}</span>\r\n                        <span>{order.create_date}</span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SingleUserScreen;\r\n"]},"metadata":{},"sourceType":"module"}